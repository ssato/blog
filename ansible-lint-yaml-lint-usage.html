<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>ssato's blog</title>
	<meta name="description" content="">
	<meta name="author" content="Satoru SATOH">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="/theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="/theme/bootstrap.min.css" rel="stylesheet">
	<link href="/theme/local.css" rel="stylesheet">
	<link href="/theme/pygments.css" rel="stylesheet">

	<!-- Feeds -->




</head>
<body>
	<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="/">ssato's blog</a>
			<ul class="nav">
					<li class="active"><a href="/category/ansible.html">ansible</a></li>
					<li ><a href="/category/python.html">python</a></li>
			</ul>
			<p class="pull-right"><a href="/archives.html">[archives]</a> <a href="/tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
				<li><a href="http://getpelican.com/">Pelican</a></li>
				<li><a href="http://python.org/">Python.org</a></li>
				<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
			</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
				<li><a href="https://github.com/ssato/">Github</a></li>
				<li><a href="https://www.instagram.com/satoh.satoru/">Instagram</a></li>
				<li><a href="https://twitter.com/satoru_satoh">Twitter</a></li>
			</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
	<div class='article'>
		<div class="page-header"><h1>Ansible Lint と YAML Lint の話 - 使い方編</h1></div>
		<div class="well small">Permalink: <a class="more" href="/ansible-lint-yaml-lint-usage.html">2020-12-02 00:01:00+09:00</a>
by <a class="url fn" href="/author/satoru-satoh.html">Satoru SATOH </a>
 in <a href="/category/ansible.html">ansible</a>
tags: <a href="/tag/ansible.html">ansible</a> <a href="/tag/lint.html">lint</a> </div>
		<div><div class="section" id="what-s-this">
<h2>What's this?</h2>
<p>これは次の Ansible Advent Calendar 2020 に参加して書いている記事となります。
他の方の記事については下記のリンクからたどれますので是非あわせてご参照下さい。</p>
<ul class="simple">
<li><a class="reference external" href="https://adventar.org/calendars/5719">https://adventar.org/calendars/5719</a></li>
<li><a class="reference external" href="https://qiita.com/advent-calendar/2020/ansible_01">https://qiita.com/advent-calendar/2020/ansible_01</a> (Qiita のみ)</li>
</ul>
</div>
<div class="section" id="lint">
<h2>Lint を使ってみよう</h2>
<p><a class="reference external" href="{filename}/01.rst">前回記事</a> では Lint がどういうものでなぜ必要かを簡単に紹介しました。
本記事では Ansible Playbook について利用できる代表的な Lint ツールについて使い方を簡単に紹介します。</p>
<div class="section" id="id2">
<h3>前準備</h3>
<p>ツールの導入を簡単にするために以降では tox という別のツールの利用を前提としています。
この記事に書かれていることを試したりする際はまず tox をご用意下さい。</p>
<div class="section" id="tox">
<h4>tox のインストール</h4>
<p>tox そのものは PyPI から入手可能ですので、ご利用の環境で用意されているパッケージか pip でインストール下さい。</p>
<ul class="simple">
<li>tox (PyPI): <a class="reference external" href="https://pypi.org/project/tox/">https://pypi.org/project/tox/</a></li>
<li>tox (home): <a class="reference external" href="https://tox.readthedocs.io">https://tox.readthedocs.io</a></li>
</ul>
<p>例えば RHEL 8 または CentOS 8 をご利用の場合は EPEL リポジトリを有効化 <a class="footnote-reference" href="#id5" id="id3">[1]</a> した上で、Fedora をご利用の場合はそのまま、いずれの場合も次のコマンドを実行すれば tox をインストールできるはずです。</p>
<pre class="literal-block">
$ sudo dnf install -y python3-tox
</pre>
<p>tox をインストールしたら、何か適当な作業ディレクトリか Playbook のある場所に移動して先に進みましょう。</p>
</div>
<div class="section" id="id4">
<h4>tox の設定ファイルの準備</h4>
<p>次のような内容のファイル tox.ini を用意します。</p>
<pre class="literal-block">
[tox]
envlist = py36
skipsdist = true

[testenv]
deps = -r {toxinidir}/requirements.txt
</pre>
<p>tox.ini があるのと同じ場所に内容が空の requirements.txt を用意します。</p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[1]</a></td><td>RHEL 8 等で EPEL リポジトリを利用する方法については <a class="reference external" href="https://fedoraproject.org/wiki/EPEL#Quickstart">https://fedoraproject.org/wiki/EPEL#Quickstart</a> などをご参照下さい。</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="yamllint">
<h3>yamllint を使ってみよう</h3>
<p>yamllint は</p>
</div>
<div class="section" id="ansible-lint">
<h3>Ansible Lint を使ってみよう</h3>
</div>
</div>
<div class="section" id="id6">
<h2>次回予告</h2>
<p>次回は実際に Ansible Lint と yamllint をどう使っていくのか実例を示しながら簡単に紹介する予定です。</p>
<!-- vim:sw=2:ts=2:et: -->
</div>
</div>
	</div>
		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; Satoru SATOH</p>
		</footer>
	  </div>

	</div>
</body>
</html>